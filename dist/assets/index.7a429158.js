var ne=Object.defineProperty,te=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var H=(a,r,t)=>r in a?ne(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,o=(a,r)=>{for(var t in r||(r={}))ie.call(r,t)&&H(a,t,r[t]);if(B)for(var t of B(r))se.call(r,t)&&H(a,t,r[t]);return a},d=(a,r)=>te(a,le(r));import{r as m,j as z,N as S,a as oe,u as _,F as k,f as G,b as V,c as ce,O as de,d as $,e as q,g as me,h as ue,i as K,k as pe,R as he,l as f,m as ge,n as fe,B as ve}from"./vendor.0210f354.js";const be=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))h(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&h(p)}).observe(document,{childList:!0,subtree:!0});function t(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerpolicy&&(c.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?c.credentials="include":s.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function h(s){if(s.ep)return;s.ep=!0;const c=t(s);fetch(s.href,c)}};be();const Y=m.exports.createContext(),T=()=>m.exports.useContext(Y);const e=z.exports.jsx,n=z.exports.jsxs,x=z.exports.Fragment,Ne=()=>{const{isLoggedIn:a,currentUser:r,removeUser:t}=T();return console.log(r),n("nav",{className:"NavMain navbar",children:[e(S,{className:"myProfile",to:"/profile",children:"Profile"}),e(S,{className:"logo",to:"/",children:"App name"}),r&&r.role[0]==="nanny"&&e(S,{to:"/users/family",children:" Users"}),r&&r.role[0]==="family"&&e(S,{to:"/users/nanny",children:" Users"}),a&&n(x,{children:[e(S,{to:"/profile"}),e("button",{onClick:t,children:"Log-Out"}),"Your role is: ",r&&r.role]}),!a&&n(x,{children:[e(S,{to:"/signin",children:"Log in"}),e(S,{to:"/signup",children:"Sign Up"})]})]})};const ye=()=>n(x,{children:[e("div",{className:"container-fluid",children:e("div",{className:"jumbotron jumbotron-fluid",children:e("div",{className:"container text-center",children:e("h1",{className:"display-4",children:"Welcome to Super Nounou!"})})})}),n("div",{className:"mb-3",id:"homeSignIn",children:[e("label",{htmlFor:"formGroupExampleInput",className:"form-label",children:" "}),e("input",{type:"text",className:"form-control",id:"formGroupExampleInput",placeholder:"Your email"})]}),n("div",{className:"mb-3",id:"homeSignIn",children:[e("label",{htmlFor:"formGroupExampleInput2",className:"form-label",children:" "}),e("input",{type:"password",className:"form-control",id:"formGroupExampleInput2",placeholder:"Your password"})]}),e("div",{className:"btnHome",children:e("button",{type:"submit",className:"btn btn-primary",children:"Login"})})]}),xe=a=>{const[r,t]=m.exports.useState(a);return[r,s=>{t(d(o({},r),{[s.target.name]:s.target.value}))}]},y=oe.create({baseURL:"https://iron-nanny.herokuapp.com",withCredentials:!0});y.interceptors.request.use(a=>{const r=localStorage.getItem("authToken");return a.headers.Authorization=r?`Bearer ${r}`:"",a});//! Error handling to use in the catch
function A(a){throw a.response.data&&console.log(a.response&&a.response.data),a}const C=d(o({},y),{signup(a){return y.post("/api/auth/signup",a).then(r=>r.data).catch(A)},getUser(a){return y.get("/api/users"+a).then(r=>r.data).catch(A)},updateUser(a,r){return y.patch("/api/users/"+r,a).then(t=>t.data).catch(A)},isLoggedIn(a){return y.get("/api/auth/me",{headers:{Authorization:`Bearer ${a}`}}).then(r=>r.data).catch(A)},signin(a){return y.post("/api/auth/signin",a).then(r=>r.data).catch(A)},addMatched(a,r){return y.post("/api/matches/"+a,r).then(t=>t.data).catch(A)},getMatched(a){return y.get("/api/matches/"+a).then(r=>r.data).catch(A)},getAllUsers(a){return y.get("/api/users/"+a).then(r=>r.data).catch(A)},getAvailabilities(){return y.get("/api/users/availabilities").then(a=>a.data).catch(A)},deleteUser(a){return y.delete(a).then(r=>r.data).catch(A)},findMatchList(a){return y.get(a).then(r=>r.data).catch(A)}}),ke=()=>{const[{email:a,password:r},t]=xe({email:"",password:""}),[h,s]=m.exports.useState(null),c=_(),{storeToken:p,authenticateUser:F}=T(),b=v=>{v.preventDefault(),C.signin({email:a,password:r}).then(N=>{console.log(N),p(N.authToken),F(),c("/")}).catch(N=>{s(N.response.data)})};return n(x,{children:[h&&e("h3",{className:"error",children:h.message}),n("form",{onSubmit:b,children:[e("h2",{children:"Signin"}),e("label",{htmlFor:"email",children:"Email"}),e("input",{type:"email",id:"email",name:"email",onChange:t,value:a}),e("label",{htmlFor:"password",children:"Password"}),e("input",{type:"password",id:"password",name:"password",onChange:t,value:r}),e("button",{children:"Submit"})]})]})},Ae=()=>e(ke,{}),Ce=()=>{const[a,r]=m.exports.useState({name:"",age:0,email:"",password:"",address:"",phone:"",availability:"",experience:"",resume:"",description:"",kidsNumber:0,kidsAge:0}),[t,h]=m.exports.useState(null),[s,c]=m.exports.useState(null),[p,F]=m.exports.useState([]),b=_(),v=m.exports.useRef(""),N=i=>{h(i.target.value)};m.exports.useEffect(()=>{C.getAvailabilities().then(i=>{console.log(i,"FETCHED AVAILABILITIES FRONT"),F(i)}).catch(i=>c(i.response.message))},[]);const l=i=>{i.preventDefault();const{name:j,age:O,email:P,password:w,address:I,phone:D,availability:L,experience:U,resume:M,description:E,kidsNumber:R,kidsAge:u}=a,g=new FormData;g.append("name",j),g.append("age",O),g.append("email",P),g.append("password",w),g.append("address",I),g.append("phone",D),g.append("availability",L),g.append("experience",U),g.append("resume",M),g.append("description",E),g.append("kidsNumber",R),g.append("kidsAge",u),g.append("role",t),g.append("picture",v.current.files[0]),console.log(g,">>>>> SIGNUP DATA FRONT"),C.signup(g).then(()=>{b("/signin")}).catch(re=>{c(re.response.message)})};return e(x,{children:n("div",{className:"container",children:[s&&e("h3",{className:"error",children:s.message}),n("form",{className:"d-flex flex-column mb-3",onSubmit:l,children:[e("h2",{children:"Signup"}),n("div",{className:"form-group",children:[e("label",{htmlFor:"name",children:"Name"}),e("input",{className:"form-control form-control-lg",onChange:i=>r(d(o({},a),{name:i.target.value})),value:a.name,type:"text",id:"name",name:"name"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"age",children:"Age"}),e("input",{className:"form-control form-control-lg",onChange:i=>r(d(o({},a),{age:i.target.value})),value:a.age,type:"number",id:"age",name:"age"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"email",children:"Email"}),e("input",{className:"form-control form-control-lg",onChange:i=>r(d(o({},a),{email:i.target.value})),value:a.email,type:"email",id:"email",name:"email"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"password",children:"Password"}),e("input",{className:"form-control form-control-lg",onChange:i=>r(d(o({},a),{password:i.target.value})),value:a.password,type:"password",id:"password",name:"password"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"address",children:"address"}),e("input",{className:"form-control form-control-lg",onChange:i=>r(d(o({},a),{address:i.target.value})),value:a.address,type:"text",id:"address",name:"address"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"phone",children:"Phone number"}),e("input",{className:"form-control form-control-lg",onChange:i=>r(d(o({},a),{phone:i.target.value})),value:a.phone,type:"text",id:"phone",name:"phone"})]}),n("div",{className:"form-group col",children:[e("label",{htmlFor:"availability",children:"Availability"}),e("select",{name:"availability",id:"availability",className:"form-control",onChange:i=>r(d(o({},a),{availability:i.target.value})),children:p.map(i=>e("option",{value:i,children:i}))})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"picture",children:"Picture"}),e("input",{className:"form-control form-control-lg",ref:v,type:"file",id:"picture",name:"picture"})]}),e("div",{className:"form-group mt-4",children:e("div",{className:"form-control form-control-lg",children:n("div",{className:"form-row",children:[e("p",{className:"col-2",children:"Who are you?"}),n("div",{className:"form-check-inline col-2 align-items-baseline",children:[e("input",{type:"radio",id:"nanny",name:"role",value:"nanny",className:"form-check-input",onChange:N}),e("label",{htmlFor:"nanny",children:"Nanny"})]}),n("div",{className:"form-check-inline col-2 align-items-baseline",children:[e("input",{type:"radio",id:"family",name:"role",value:"family",className:"form-check-input",onChange:N}),e("label",{htmlFor:"family",children:"family"})]})]})})}),t==="nanny"&&n(x,{children:[n("div",{className:"form-group",children:[e("label",{htmlFor:"experience",children:"Experience"}),e("input",{className:"form-control form-control-lg",onChange:i=>r(d(o({},a),{experience:i.target.value})),value:a.experience,type:"text",id:"experience",name:"experience"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"resume",children:"Resume"}),e("input",{className:"form-control form-control-lg",onChange:i=>r(d(o({},a),{resume:i.target.value})),value:a.resume,type:"text",id:"resume",name:"resume"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"description",children:"Description"}),e("input",{className:"form-control form-control-lg",onChange:i=>r(d(o({},a),{description:i.target.value})),value:a.description,type:"text",id:"description",name:"description"})]})]}),t==="family"&&n(x,{children:[n("div",{className:"form-group",children:[e("label",{htmlFor:"kidsNumber",children:"Number of kids"}),e("input",{className:"form-control form-control-lg",onChange:i=>r(d(o({},a),{kidsNumber:i.target.value})),value:a.kidsNumber,type:"number",min:"1",max:"5",id:"kidsNumber",name:"kidsNumber"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"kidsAge",children:"Kids age"}),e("input",{className:"form-control form-control-lg",onChange:i=>r(d(o({},a),{kidsAge:i.target.value})),value:a.kidsAge,type:"number",id:"kidsAge",name:"kidsAge"})]})]}),e("button",{className:"btn btn-lg btn-primary align-self-center",children:"Submit"})]})]})})},Fe=()=>e(Ce,{}),W=()=>{const{currentUser:a,removeUser:r}=T();_(),console.log("this is the current user from auth",a);async function t(){const s=`/api/users/${a._id}`;try{const c=await C.deleteUser(s);console.log("deletedUser",c),alert("votre profil va \xEAtre supprim\xE9..."),r()}catch(c){console.log(c)}}return n("div",{className:"container d-flex justify-content-center ml-auto",children:[a.role[0]==="nanny"&&n("div",{className:"card mb-3",children:[e("img",{src:a.picture,alt:"profile.name",className:"card-img-top"}),n("div",{className:"card-body",children:[e("h5",{className:"card-title",children:a.name}),e("p",{className:"card-text",children:a.age}),e("p",{className:"card-text",children:a.address}),e("p",{className:"card-text",children:a.phone}),e("p",{className:"card-text",children:a.resume}),n("p",{className:"card-text",children:["Available: ",a.availability]}),e(k,{icon:G}),e("a",{href:`/users/edit/${a._id}`,target:"_top",children:"Update my profile"}),e(k,{icon:V}),e("button",{onClick:t,children:"Delete my profile"})]})]}),a.role[0]==="family"&&n("div",{className:"card mb-3",children:[e("img",{src:a.picture,alt:"profile.name",className:"card-img-top"}),n("div",{className:"card-body",children:[e("h5",{className:"card-title",children:a.name}),e("p",{className:"card-text",children:a.address}),e("p",{className:"card-text",children:a.phone}),e("p",{className:"card-text",children:a.numberOfKids}),e("p",{className:"card-text",children:a.kidsAge}),n("p",{className:"card-text",children:["Available: ",a.availability]}),e("p",{className:"card-text",children:a.description}),e(k,{icon:G}),e("a",{href:`/users/edit/${a._id}`,children:"Update my profile"}),e(k,{icon:V}),e("button",{onClick:t,children:"Delete my profile"})]})]})]})},Le=()=>{const{isLoggedIn:a,isLoading:r}=T();return r?e("p",{children:"Loading..."}):a?e(de,{}):e(ce,{to:"/signin"})},J=()=>e("div",{}),Q=()=>{const[a,r]=m.exports.useState(0),t={nanny:[{picture:"https://res.cloudinary.com/dgblvjmrn/image/upload/v1642427161/images-4_rcjqon.jpg",name:"Caroline Smith",role:"family",password:"",email:""}],family:[{picture:"https://res.cloudinary.com/dgblvjmrn/image/upload/v1642427168/84_zstpqh.jpg",name:"Lynda Dupond",role:"nanny",password:"lyndaDupond",email:"lynda.dupond@gmail.com"}]},{currentUser:h}=T();let c=h.role[0]==="nanny"?"family":"nanny";$();const[p,F]=m.exports.useState(t[c]),[b,v]=m.exports.useState(!1),[N,l]=m.exports.useState(!1),[i,j]=m.exports.useState(!1),[O,P]=m.exports.useState("");m.exports.useEffect(async()=>{const u=[...await C.getAllUsers(c)];F(u)},[]);const w=()=>{r(((a-1)%p.length+p.length)%p.length),l(!1),v(!1)},I=()=>{r((a+1)%p.length),l(!1),v(!1)},D=()=>{v(!1)},L=p[a]._id,U=h._id,M={liker:U,liked:L},E=async R=>{R.preventDefault();const u=await C.addMatched(L,M);console.log("A new like has been added to the Like collection",u.liked),console.log(N),u.liked===!0&&l(!0);const g=u._doc.liked;P(o({},g)),u.matched===!0&&(console.log("A new like has been added to the Like collection",u.matched),v(!0))};return n("div",{className:"container",children:[b===!1&&n(x,{children:[n("div",{className:"card",children:[n("h1",{children:[p[a].name," - ",p[a].role]}),n("span",{style:{fontSize:"0.7em"},children:["liked id :",L]}),n("span",{style:{fontSize:"0.7em"},children:["liker id :",U]}),e("img",{src:p[a].picture,alt:p[a].name})]}),n("div",{className:"container text-center",children:[e("button",{onClick:()=>w(),children:e(k,{icon:q})}),N===!1&&e(k,{icon:me,size:"5x",color:"red",onClick:E}),N===!0&&e(k,{icon:ue,size:"5x",color:"green",onClick:E}),i===!0&&e("button",{className:"btn btn-primary",children:"Already matched "}),e("button",{onClick:()=>I(),children:e(k,{icon:K})})]})]}),b===!0&&n(x,{children:[e("p",{children:p[a].name}),e("p",{children:h.name}),n("div",{className:"container text-center",children:[e("button",{onClick:()=>w(),children:e(k,{icon:q})}),e(k,{icon:pe,size:"2x",onClick:D}),e("button",{onClick:()=>I(),children:e(k,{icon:K})})]})]})]})},X=[{nanny:{name:"Marie-Noel France",role:"nanny",age:45,email:"marienoel.france@gmail.com",phone:"0691234567",address:"28 rue de vaugirard 75015 Paris",picture:"https://res.cloudinary.com/dgblvjmrn/image/upload/v1642427165/62_bu6hcb.jpg",experience:10,resume:" i am graduated from babyschool i enjoy taking care of all children",availability:"fullTime"},nanny:{name:"Rosemary Chapman",role:"nanny",age:37,email:"rosemary.Chapman@gmail.com",phone:"0691234567",address:"8 rue Tiphaine 75015 Paris",picture:"https://res.cloudinary.com/dgblvjmrn/image/upload/c_thumb,w_200,g_face/v1642427165/86_evzxio.jpg",experience:25,resume:"The greatest gift I can give to your children is my time, my love, and my attention.",availability:"fullTime"}}];console.log("matchAPIList>>>>>>>>",X[0].nanny);const Z=()=>{const[a,r]=m.exports.useState([]);return m.exports.useEffect(()=>{const t="/api/matches/matchList";(async()=>{const s=await C.findMatchList(t);console.log("findMatchList",s),r(s)})()},[]),e("div",{children:X.map(t=>e("div",{className:"card",children:e("p",{children:t.nanny.name})}))})},ee=()=>e("div",{}),Se=()=>{const[a,r]=m.exports.useState({name:"",age:0,email:"",password:"",address:"",phone:"",experience:"",resume:"",description:"",availability:"",kidsNumber:0,kidsAge:0}),[t,h]=m.exports.useState(null),s=_(),c=m.exports.useRef(""),{currentUser:p}=T(),{id:F}=$(),b=p.role;console.log(b,">>>>> ROLE FROM CURRENT USER FRONT");const v=p._id;console.log(v,">>>>> ID FROM CURRENT USER FRONT"),m.exports.useEffect(()=>{C.getAvailabilities().then(l=>{console.log(l,"FETCHED AVAILABILITIES FRONT"),setAvailabilityList(l)}).catch(l=>h(l.response.message))},[]),m.exports.useEffect(()=>{v===F&&r(p)},[]);const N=l=>{l.preventDefault();const{name:i,age:j,email:O,password:P,address:w,phone:I,experience:D,resume:L,description:U,availability:M,kidsNumber:E,kidsAge:R}=a,u=new FormData;u.append("name",i),u.append("age",j),u.append("email",O),u.append("password",P),u.append("address",w),u.append("phone",I),u.append("experience",D),u.append("resume",L),u.append("description",U),u.append("availability",M),u.append("kidsNumber",E),u.append("kidsAge",R),u.append("picture",c.current.files[0]),console.log(u,">>>>> EDIT DATA FROM FRONT"),C.updateUser(v,u).then(()=>{s("/users/profile")}).catch(g=>h(g.response.message))};return e(x,{children:n("div",{className:"container",children:[t&&e("h3",{className:"error",children:t.message}),n("form",{className:"d-flex flex-column mb-3",onSubmit:N,children:[e("h2",{children:"Edit Profile"}),n("div",{className:"form-group",children:[e("label",{htmlFor:"name",children:"Name"}),e("input",{className:"form-control form-control-lg",onChange:l=>r(d(o({},a),{name:l.target.value})),value:a.name,type:"text",id:"name",name:"name"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"age",children:"Age"}),e("input",{className:"form-control form-control-lg",onChange:l=>r(d(o({},a),{age:l.target.value})),value:a.age,type:"number",id:"age",name:"age"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"email",children:"Email"}),e("input",{className:"form-control form-control-lg",onChange:l=>r(d(o({},a),{email:l.target.value})),value:a.email,type:"email",id:"email",name:"email"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"password",children:"Password"}),e("input",{className:"form-control form-control-lg",onChange:l=>r(d(o({},a),{password:l.target.value})),value:a.password,type:"password",id:"password",name:"password"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"address",children:"address"}),e("input",{className:"form-control form-control-lg",onChange:l=>r(d(o({},a),{address:l.target.value})),value:a.address,type:"text",id:"address",name:"address"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"phone",children:"Phone number"}),e("input",{className:"form-control form-control-lg",onChange:l=>r(d(o({},a),{phone:l.target.value})),value:a.phone,type:"text",id:"phone",name:"phone"})]}),n("div",{className:"form-group col",children:[e("label",{htmlFor:"availability",children:"Availability"}),e("select",{name:"availability",id:"availability",className:"form-control",onChange:l=>r(d(o({},a),{availability:l.target.value})),children:availabilityList.map(l=>e("option",{value:l,children:l}))})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"picture",children:"Picture"}),e("input",{className:"form-control form-control-lg",ref:c,type:"file",id:"picture",name:"picture"})]}),b[0]==="nanny"&&n(x,{children:[n("div",{className:"form-group",children:[e("label",{htmlFor:"experience",children:"Experience"}),e("input",{className:"form-control form-control-lg",onChange:l=>r(d(o({},a),{experience:l.target.value})),value:a.experience,type:"text",id:"experience",name:"experience"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"resume",children:"Resume"}),e("input",{className:"form-control form-control-lg",onChange:l=>r(d(o({},a),{resume:l.target.value})),value:a.resume,type:"text",id:"resume",name:"resume"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"description",children:"Description"}),e("input",{className:"form-control form-control-lg",onChange:l=>r(d(o({},a),{description:l.target.value})),value:a.description,type:"text",id:"description",name:"description"})]}),n("div",{className:"form-group col",children:[e("label",{htmlFor:"availability",children:"Availability"}),n("select",{name:"availability",id:"availability",className:"form-control",onChange:l=>r(d(o({},a),{availability:l.target.value})),children:[e("option",{value:"fullTime",children:"Full Time"}),e("option",{value:"partTime",children:"Part Time"}),e("option",{value:"evening",children:"Evening"}),e("option",{value:"afterSchool",children:"After School"})]})]})]}),b[0]==="family"&&n(x,{children:[n("div",{className:"form-group",children:[e("label",{htmlFor:"kidsNumber",children:"Number of kids"}),e("input",{className:"form-control form-control-lg",onChange:l=>r(d(o({},a),{kidsNumber:l.target.value})),value:a.kidsNumber,type:"number",min:"1",max:"5",id:"kidsNumber",name:"kidsNumber"})]}),n("div",{className:"form-group",children:[e("label",{htmlFor:"kidsAge",children:"Kids age"}),e("input",{className:"form-control form-control-lg",onChange:l=>r(d(o({},a),{kidsAge:l.target.value})),value:a.kidsAge,type:"number",id:"kidsAge",name:"kidsAge"})]})]}),e("button",{className:"btn btn-lg btn-primary align-self-center",children:"Submit"})]})]})})},ae=()=>e("div",{});function we(){return n("div",{className:"App",children:[e(Ne,{}),n(he,{children:[e(f,{path:"/",element:e(ye,{})}),e(f,{path:"/signup",element:e(Fe,{})}),e(f,{path:"/signin",element:e(Ae,{})}),e(f,{path:"/family",element:e(ae,{})}),e(f,{path:"/nanny",element:e(ae,{})}),e(f,{path:"/profile/",element:e(W,{})}),n(f,{element:e(Le,{}),children:[e(f,{path:"/users/edit/:id",element:e(Se,{})}),e(f,{path:"/users/profile/:id",element:e(W,{})}),e(f,{path:"/users/family",element:e(Q,{})}),e(f,{path:"/users/nanny",element:e(Q,{})}),e(f,{path:"/users/likes/family",element:e(J,{})}),e(f,{path:"/users/likes/nanny",element:e(J,{})}),e(f,{path:"/users/match/family",element:e(ee,{})}),e(f,{path:"/users/match/nanny",element:e(ee,{})}),e(f,{path:"/users/matchlist/family",element:e(Z,{})}),e(f,{path:"/users/matchlist/nanny",element:e(Z,{})})]})]})]})}const Ie=({children:a})=>{const[r,t]=m.exports.useState({currentUser:null,isLoading:!0,isLoggedIn:!1});m.exports.useEffect(()=>{h()},[]);const h=()=>{const b=localStorage.getItem("authToken");b?C.isLoggedIn(b).then(v=>{t({currentUser:v,isLoading:!1,isLoggedIn:!0})}).catch(v=>{t({currentUser:null,isLoading:!1,isLoggedIn:!1})}):t({currentUser:null,isLoading:!1,isLoggedIn:!1})},s=()=>{c(),h()},c=()=>{localStorage.removeItem("authToken")},p=b=>{localStorage.setItem("authToken",b)},F={currentUser:r.currentUser,isLoading:r.isLoading,isLoggedIn:r.isLoggedIn,removeUser:s,storeToken:p,authenticateUser:h};return e(Y.Provider,{value:F,children:a})};ge.render(e(fe.StrictMode,{children:e(ve,{children:e(Ie,{children:e(we,{})})})}),document.getElementById("root"));
